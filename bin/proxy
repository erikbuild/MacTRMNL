#! /usr/bin/env ruby

require_relative '../proxy/trmnappl'

port = ARGV[0] ? ARGV[0].to_i : TRMNLProxy::DEFAULT_PORT

proxy = TRMNLProxy.new(port)

begin
  proxy.start
rescue Interrupt
  puts "\nShutting down server..."
rescue => e
  puts "Server error: #{e.message}"
  puts e.backtrace.join("\n")
end